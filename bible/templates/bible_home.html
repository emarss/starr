{% extends "base.html" %}
{% load static %}
{% load dict_value %}


{% block app_name %}bible{% endblock app_name %}
{% block ptitle %}Starr - Bible {% endblock ptitle %}

{% block content %}
	<div class="content">
		<div class="row star-bible-outer">
			<div class="star-bible star-bible-panel col-2 rounded p-0">
				<div class="star-bible-panel-header col-12 p-0">
					<div class="text-white p-1 px-3 rounded-top col-12 bg-primary">Bible Books</div>
				</div>
				<div class="star-bible-panel-body py-2">
					<div class="col-12 star-bible-books">
						<ul class="list">
							{% for book in ot_books %}
								<li {% if book == current_book %} class="active" {% endif %} id="{{ book }}"><a class="text-primary bible-book" onclick="viewBibleBook('{{ book }}')" class="font-italic">{{ book }}</a></li>
							{% endfor %}
							<hr>
							{% for book in nt_books %}
								<li {% if book == current_book %} class="active" {% endif %} id="{{ book }}"><a class="text-primary bible-book" onclick="viewBibleBook('{{ book }}')" class="font-italic">{{ book }}</a></li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
			<div class="col-10 mx-0 px-0">
				<div class="row mb-1">
					<div class="col-12 pl-5 mr-5">
						<div class="row mr-0">
							<div class="star-bible col-12 bg-white py-1 rounded px-3">
								<div class="sta-body">
									<form class="star-form row" id="bible_form">
										{% csrf_token %}
										<div class="book-form-group">
											<label>Book:</label>
											<select name="bible_book" class="get-bible-input form-control" value="Matthew" id="id_bible_book">
												<optgroup label="Old Testament">
													{% for book in ot_books %}
															<option value="{{ book }}">{{ book }}</option>
													{% endfor %}
												</optgroup>
												<optgroup label="New Testament">
													{% for book in nt_books %}
															<option value="{{ book }}">{{ book }}</option>
													{% endfor %}
												</optgroup>
											</select>
										</div>
										<div class="chapter-form-group">
											<label>Chapter:</label>
											<input type="number" name="bible_chapter" class="get-bible-input form-control" value="1" min="1" max="{{ chapters_count }}" required="" id="id_bible_chapter">
										</div>
										<div class="verse-form-group">
											<label>Verse:</label>
											<input type="number" name="bible_verse" class="form-control" value="1" min="1" max="{{ verses_count }}" required="" id="id_bible_verse">
										</div>
									</form>
									<form class="star-form row" id="bible_search_form">
										<div class="search-form-group">
											{{ search_form.search_key }}
											<input type="submit" value="Search" name="Search" class="btn btn-primary btn-sm">
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-7 pl-5 pr-4">
						<div class="row">
							<div class="star-bible col-12 bg-white px-3 pt-1 rounded">
								<div class="sta-body">
									<a href="#" class="btn btn-secondary btn-xs active">ESV</a>
									<a href="#" class="btn btn-secondary btn-xs">NIV</a>
									<a href="#" class="btn btn-secondary btn-xs">KJV</a>
									<a href="#" class="btn btn-secondary btn-xs">NKJV</a>
								</div><hr class="my-2">
							</div>
							<div class="star-bible col-12 bg-white px-3 rounded">
								<div class="star-bible-contents mb-3">
									{% include "includes/bible_chapter.html" %}
								</div>
							</div>
						</div>
					</div>
					<div class="col-5">
						<div class="row pr-3">
							<div class="star-bible star-bible-messages col-12 rounded p-0">
								{% include 'includes/messages.html' %}
							</div>
							<div class="star-bible col-12 bg-white p-2 rounded">
								<div class="sta-body">
									<form class="star-form mb-2" id="bible_form">
										{% csrf_token %}
										<div class="form-group ">
											{{ form.search_key }}
										</div>
									</form><hr>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock content %}

{% block lower_static %}
	<script type="text/javascript" src="{% static 'js/scripts.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
	<script type="text/javascript">
		$(document).ready(function($) {
			scrollHeight = $("#Matthew").prevAll("li").length * $("#Matthew").height();
			console
			$(".star-bible-panel-body").scrollTop(scrollHeight)

			$(".get-bible-input").change(function(){
			    $("#bible_form").submit()
			});
		});
	</script>
{% endblock lower_static %}